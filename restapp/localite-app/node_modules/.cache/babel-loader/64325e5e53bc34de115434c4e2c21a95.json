{"ast":null,"code":"var _jsxFileName = \"/Users/brittchin/Desktop/334Project/restapp/localite-app/src/components/HeaderComponent.jsx\";\nimport React, { Component } from \"react\";\nimport { Modal, Button, Form, Dropdown, Image } from \"react-bootstrap\";\nimport { withRouter } from \"react-router\";\nimport { Link } from \"react-router-dom\";\nimport logo from \"../images/localite.png\";\nimport profile from \"../images/profile.jpg\";\nimport AuthenticationService from \"./AuthenticationService\";\n\nclass HeaderComponent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleClose = () => {\n      this.setState({\n        modalOpen: false\n      });\n    };\n\n    this.handleShow = () => {\n      this.setState({\n        modalOpen: true\n      });\n      console.log(this.state.modalOpen);\n    };\n\n    this.login = () => {\n      this.props.history.push(\"/login\");\n    };\n\n    this.signUpClicked = () => {\n      this.setState({\n        modalOpen: false\n      });\n    };\n\n    this.loginClicked = () => {\n      //currently hardcoded\n      // console.log(this.email.current.value)\n      // console.log(this.password.current.value)\n      if (this.email.current.value === \"ecruz@gmail.com\" && this.password.current.value === \"1234\") {\n        AuthenticationService.registerSuccessfulLogin(this.email.current.value, this.password.current.value);\n        this.setState({\n          modalOpen: false\n        });\n        this.setState({\n          loginFailed: false\n        });\n      } else {\n        this.setState({\n          loginFailed: true\n        });\n      }\n    };\n\n    this.state = {\n      modalOpen: false,\n      loginFailed: false,\n      user: null\n    };\n    this.email = React.createRef();\n    this.password = React.createRef();\n  }\n\n  render() {\n    const isUserLoggedIn = AuthenticationService.isUserLoggedIn();\n    console.log(isUserLoggedIn);\n    console.log(this.state.user); //will be replaced by Login Component\n\n    const form = /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"formBasicEmail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    }, \"Email address\"), /*#__PURE__*/React.createElement(Form.Control, {\n      required: true,\n      ref: this.email,\n      type: \"email\",\n      placeholder: \"Enter email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Form.Control.Feedback, {\n      type: \"invalid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }\n    }, \"Please enter a valid email.\"), /*#__PURE__*/React.createElement(Form.Text, {\n      className: \"text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }\n    }, \"We'll never share your email with anyone else.\")), /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"formBasicPassword\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n      required: true,\n      ref: this.password,\n      type: \"password\",\n      placeholder: \"Password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Form.Control.Feedback, {\n      type: \"invalid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }\n    }, \"Please enter a password.\"))));\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"header\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"nav\", {\n      className: \"navbar navbar-expand-md transparent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/\",\n      className: \"navbar-brand\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: logo,\n      height: \"50px\",\n      className: \"d-inline-block align-top\",\n      alt: \"localite logo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"navbar-nav navbar-collapse justify-content-end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      className: \"nav-link header-link\",\n      to: \"/signup/guide\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 15\n      }\n    }, \"BECOME A GUIDE\")), isUserLoggedIn && /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 34\n      }\n    }, /*#__PURE__*/React.createElement(Dropdown, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Dropdown.Toggle, {\n      className: \"header-link header-btn\",\n      id: \"dropdown-basic\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Image, {\n      src: profile,\n      height: \"50px\",\n      roundedCircle: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 19\n      }\n    }), \" \", AuthenticationService.getLoggedInUserName()), /*#__PURE__*/React.createElement(Dropdown.Menu, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Dropdown.Item, {\n      onClick: () => this.props.history.push(`/account/${this.state.loginFailed}`),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 21\n      }\n    }, \"Account Information\"), /*#__PURE__*/React.createElement(Dropdown.Item, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 21\n      }\n    }, \"View Profile\"), /*#__PURE__*/React.createElement(Dropdown.Item, {\n      onClick: () => this.props.history.push(`/account/${this.state.loginFailed}/upcoming`),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 21\n      }\n    }, \"Upcoming Tours\"), /*#__PURE__*/React.createElement(Dropdown.Item, {\n      onClick: () => this.props.history.push(`/account/${this.state.loginFailed}/past`),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 21\n      }\n    }, \"Past Tours\"), /*#__PURE__*/React.createElement(Dropdown.Item, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 21\n      }\n    }, \"Messages\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dropdown-divider\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Dropdown.Item, {\n      style: {\n        fontWeight: \"bold\",\n        color: \"green\"\n      },\n      href: \"/\",\n      onClick: AuthenticationService.logout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 21\n      }\n    }, \"Switch to Tour Guide View\"), /*#__PURE__*/React.createElement(Dropdown.Item, {\n      style: {\n        fontWeight: \"bold\",\n        color: \"green\"\n      },\n      href: \"/\",\n      onClick: AuthenticationService.logout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 21\n      }\n    }, \"Switch to Tourist View\"), /*#__PURE__*/React.createElement(Dropdown.Item, {\n      style: {\n        fontWeight: \"bold\"\n      },\n      href: \"/\",\n      onClick: AuthenticationService.logout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 21\n      }\n    }, \"Log Out\")))), !isUserLoggedIn && /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-link header-link\",\n      style: {\n        textDecoration: \"none\"\n      },\n      onClick: this.login,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 19\n      }\n    }, \"SIGN UP/LOG IN\"))))), /*#__PURE__*/React.createElement(Modal, {\n      show: this.state.modalOpen,\n      onHide: this.handleClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      closeButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 13\n      }\n    }, \"LOG IN\")), /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 11\n      }\n    }, this.state.loginFailed && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alert alert-warning\",\n      style: {\n        marginTop: \"10px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 15\n      }\n    }, \"Invalid Credentials\"), form), /*#__PURE__*/React.createElement(Modal.Footer, {\n      className: \"justify-content-between\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 13\n      }\n    }, \"Don't have an account? \", /*#__PURE__*/React.createElement(Link, {\n      to: \"/signup\",\n      onClick: this.signUpClicked,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 38\n      }\n    }, \"Sign up.\")), /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      type: \"submit\",\n      onClick: this.loginClicked,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 13\n      }\n    }, \"LOG IN\"))));\n  }\n\n}\n\nexport default withRouter(HeaderComponent);","map":{"version":3,"sources":["/Users/brittchin/Desktop/334Project/restapp/localite-app/src/components/HeaderComponent.jsx"],"names":["React","Component","Modal","Button","Form","Dropdown","Image","withRouter","Link","logo","profile","AuthenticationService","HeaderComponent","constructor","props","handleClose","setState","modalOpen","handleShow","console","log","state","login","history","push","signUpClicked","loginClicked","email","current","value","password","registerSuccessfulLogin","loginFailed","user","createRef","render","isUserLoggedIn","form","getLoggedInUserName","fontWeight","color","logout","textDecoration","marginTop"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Modal, Button, Form, Dropdown, Image } from \"react-bootstrap\";\nimport { withRouter } from \"react-router\";\nimport { Link } from \"react-router-dom\";\nimport logo from \"../images/localite.png\";\nimport profile from \"../images/profile.jpg\";\nimport AuthenticationService from \"./AuthenticationService\";\n\nclass HeaderComponent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      modalOpen: false,\n      loginFailed: false,\n      user: null\n    };\n\n    this.email = React.createRef();\n    this.password = React.createRef();\n  }\n\n  handleClose = () => {\n    this.setState({ modalOpen: false });\n  };\n\n  handleShow = () => {\n    this.setState({ modalOpen: true });\n    console.log(this.state.modalOpen);\n  };\n\n  login = () => {\n    this.props.history.push(\"/login\")\n  };\n\n  signUpClicked = () => {\n    this.setState({ modalOpen: false });\n  }\n\n  loginClicked = () => {\n    //currently hardcoded\n    // console.log(this.email.current.value)\n    // console.log(this.password.current.value)\n    if (\n      this.email.current.value === \"ecruz@gmail.com\" &&\n      this.password.current.value === \"1234\"\n    ) {\n      AuthenticationService.registerSuccessfulLogin(\n        this.email.current.value,\n        this.password.current.value\n      )\n  \n      this.setState({ modalOpen: false });\n      this.setState({ loginFailed: false });\n    } else {\n      this.setState({ loginFailed: true });\n    }\n  };\n\n  render() {\n    const isUserLoggedIn = AuthenticationService.isUserLoggedIn();\n    console.log(isUserLoggedIn);\n    console.log(this.state.user);\n\n    //will be replaced by Login Component\n    const form = (\n      <div>\n        <Form>\n          <Form.Group controlId=\"formBasicEmail\">\n            <Form.Label>Email address</Form.Label>\n            <Form.Control\n              required\n              ref={this.email}\n              type=\"email\"\n              placeholder=\"Enter email\"\n            />\n            <Form.Control.Feedback type=\"invalid\">\n              Please enter a valid email.\n            </Form.Control.Feedback>\n            <Form.Text className=\"text-muted\">\n              We'll never share your email with anyone else.\n            </Form.Text>\n          </Form.Group>\n\n          <Form.Group controlId=\"formBasicPassword\">\n            <Form.Label>Password</Form.Label>\n            <Form.Control\n              required\n              ref={this.password}\n              type=\"password\"\n              placeholder=\"Password\"\n            />\n            <Form.Control.Feedback type=\"invalid\">\n              Please enter a password.\n            </Form.Control.Feedback>\n          </Form.Group>\n        </Form>\n      </div>\n    );\n\n    return (\n      <>\n        <header>\n          <nav className=\"navbar navbar-expand-md transparent\">\n            <div>\n              <a href=\"/\" className=\"navbar-brand\">\n                <img\n                  src={logo}\n                  height=\"50px\"\n                  className=\"d-inline-block align-top\"\n                  alt=\"localite logo\"\n                />\n              </a>\n            </div>\n            <ul className=\"navbar-nav navbar-collapse justify-content-end\">\n              <li>\n              <Link className=\"nav-link header-link\" to=\"/signup/guide\">\n                  BECOME A GUIDE\n                </Link>\n              </li>\n              \n              {isUserLoggedIn && <li>\n                <Dropdown>\n                  <Dropdown.Toggle className=\"header-link header-btn\" id=\"dropdown-basic\">\n                  <Image src={profile} height=\"50px\" roundedCircle /> {AuthenticationService.getLoggedInUserName()}\n                  </Dropdown.Toggle>\n\n                  <Dropdown.Menu>\n                    {/* This will end up getting the id from session storage*/}\n                    <Dropdown.Item onClick={() => this.props.history.push(`/account/${this.state.loginFailed}`)}>\n                      Account Information\n                    </Dropdown.Item>\n\n                    {/* If they are logged in as Tour Guide*/}\n                    <Dropdown.Item>\n                      View Profile\n                    </Dropdown.Item>\n\n                    <Dropdown.Item onClick={() => this.props.history.push(`/account/${this.state.loginFailed}/upcoming`)}>\n                      Upcoming Tours\n                    </Dropdown.Item>\n                    <Dropdown.Item onClick={() => this.props.history.push(`/account/${this.state.loginFailed}/past`)}>\n                      Past Tours\n                    </Dropdown.Item>\n                    <Dropdown.Item>\n                      Messages\n                    </Dropdown.Item>\n                    <div className=\"dropdown-divider\"></div>\n                    {/* if they are on Tourist view and a Tour Guide*/}\n                    <Dropdown.Item style={{fontWeight: \"bold\", color: \"green\"}} href=\"/\" onClick={AuthenticationService.logout}>\n                      Switch to Tour Guide View\n                    </Dropdown.Item>\n\n                    {/* if they are on Tour Guide view and a Tourist*/}\n                    <Dropdown.Item style={{fontWeight: \"bold\", color: \"green\"}} href=\"/\" onClick={AuthenticationService.logout}>\n                      Switch to Tourist View\n                    </Dropdown.Item>\n                    <Dropdown.Item style={{fontWeight: \"bold\"}} href=\"/\" onClick={AuthenticationService.logout}>\n                      Log Out\n                    </Dropdown.Item>\n                  </Dropdown.Menu>\n                </Dropdown>\n              </li>}\n\n              {!isUserLoggedIn && (\n                <li>\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-link header-link\"\n                    style={{ textDecoration: \"none\" }}\n                    onClick={this.login}\n                  >\n                    SIGN UP/LOG IN\n                  </button>\n                </li>\n              )}\n\n            </ul>\n          </nav>\n        </header>\n\n        <Modal show={this.state.modalOpen} onHide={this.handleClose}>\n          <Modal.Header closeButton>\n            <Modal.Title>LOG IN</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            {this.state.loginFailed && (\n              <div\n                className=\"alert alert-warning\"\n                style={{ marginTop: \"10px\" }}\n              >\n                Invalid Credentials\n              </div>\n            )}\n            {form}\n          </Modal.Body>\n          <Modal.Footer className=\"justify-content-between\">\n            <p>\n              Don't have an account? <Link to=\"/signup\" onClick={this.signUpClicked}>Sign up.</Link>\n            </p>\n            <Button variant=\"primary\" type=\"submit\" onClick={this.loginClicked}>\n              LOG IN\n            </Button>\n          </Modal.Footer>\n        </Modal>\n      </>\n    );\n  }\n}\n\n\nexport default withRouter(HeaderComponent);\n"]},"metadata":{},"sourceType":"module"}